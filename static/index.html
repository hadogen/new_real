<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Forum App</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div id="currentUser"></div>
    <div id="app">
        <!-- Navigation -->
        <nav>
            <button onclick="ShowSection('register')">Register</button>
            <button onclick="ShowSection('login')">Login</button>
            <button onclick="LoadPosts()">back</button>
            <button id="logoutButton" style="display: none;">Logout</button>
        </nav>

        <!-- Register Section -->
        <div id="register" class="section">
            <h2>Register</h2>
            <form id="registerForm">
                <input type="text" id="nickname" placeholder="Nickname" required>
                <input type="email" id="email" placeholder="Email" required>
                <input type="password" id="password" placeholder="Password" required>
                <input type="number" id="age" placeholder="Age" required>

                <select id="gender" required>
                    <option value="">Select Gender</option>
                    <option value="Male">Male</option>
                    <option value="Female">Female</option>
                </select>
                
                <input type="text" id="firstName" placeholder="First Name" required>
                <input type="text" id="lastName" placeholder="Last Name" required>
                <button type="submit">Register</button>
            </form>
        </div>

        <!-- Login Section -->
        <div id="login" class="section">
            <h2>Login</h2>
            <form id="loginForm">
                <input type="text" id="loginId" placeholder="Nickname or Email" required>
                <input type="password" id="loginPassword" placeholder="Password" required>
                <button type="submit">Login</button>
            </form>
        </div>

        <!-- Posts Section -->
        <div id="posts" class="section">
            <h2>Posts</h2>
            <!-- Filter UI -->
            <div>
                <label for="categoryFilter">Filter by Category:</label>
                <select id="categoryFilter">
                    <option value="">All</option>
                    <option value="Technology">Technology</option>
                    <option value="Science">Science</option>
                    <option value="Art">Art</option>
                    <option value="Music">Music</option>
                    <option value="Sports">Sports</option>
                    <!-- Add more categories as needed -->
                </select>
                <button onclick="FilterByCategory()">Apply</button>
            </div>
            <div>
                <button onclick="FilterByCreatedPosts()">My Posts</button>
                <button onclick="FilterByLikedPosts()">Liked Posts</button>
            </div>
            <!-- Create Post Form -->
            <form id="createPostForm">
                <input type="text" id="postTitle" placeholder="Title" required>
                <textarea id="postContent" placeholder="Content" required></textarea>
                <select id="postCategory" required>
                    <option value="Technology">Technology</option>
                    <option value="Science">Science</option>
                    <option value="Art">Art</option>
                    <!-- Add more categories as needed -->
                </select>
                <button type="submit">Create Post</button>
            </form>
            <!-- Post Feed -->
            <div id="postFeed"></div>
        </div>

        <!-- Comments Section -->
        <div id="comments" class="section">
            <h2>Comments</h2>
            <form id="createCommentForm">
                <input type="hidden" id="commentPostId">
                <textarea id="commentContent" placeholder="Add a comment..." required></textarea>
                <button type="submit">Comment</button>
            </form>
            <div id="commentFeed"></div>
        </div>

        <!-- Message Display -->
        <p id="message"></p>
    </div>
    <h2>Active Users</h2>
    <ul id="userList" class="user-list"></ul>

    <div id="messageBox" class="section">
        <h3>Send a private message</h3>
        <h4 id="selectedUserName"></h4>
        <div id="messageBoxContent">
            <ul id = "messageList"></ul>
        </div>
        <input type="text" id="messageInput" placeholder="Type your message" />
        <button onclick="sendPrivateMessage()">Send</button>
    </div>
    <script type="module" src="app.js"></script>
</body>
</html>